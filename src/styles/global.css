/* Tailwind layers */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Footer: colores estables
   ========================= */
@layer base {
  footer { color: #fff; }
  footer h1, footer h2, footer h3, footer h4 { color: #fff; }
  footer p, footer li, footer span, footer small { color: rgba(255,255,255,.85) !important; }
  footer a { color: rgba(255,255,255,.8); text-decoration: none; }
  footer a:hover { color: #fff; }
}

/* =========================
   Variables y bases globales
   ========================= */
@layer base {
  :root {
    /* Radios / elevación */
    --radius: 1rem;

    /* Ring emerald-500 */
    --ring-r: 16;
    --ring-g: 185;
    --ring-b: 129;

    /* Gradiente oscuro (si se usa) */
    --bg-grad-from: 0 0% 0%;
    --bg-grad-to: 0 0% 8%;

    /* Esquema por defecto */
    color-scheme: light;

    /* Alturas reales del header */
    --header-h-mobile: 5rem;   /* 80px */
    --header-h-desktop: 6rem;  /* 96px */
  }

  @media (min-width: 768px) {
    :root { --header-h-desktop: 6rem; }
  }

  html { scroll-behavior: smooth; -webkit-text-size-adjust: 100%; }

  body {
    /* equivalente a @apply antialiased bg-white text-zinc-900; sin @apply para evitar choques */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: #fff;
    color: #18181b;
    background-image: none;
    overflow-x: hidden;
  }

  /* Tema oscuro por clase */
  .theme-dark { background-color: #09090b; color: #fff; color-scheme: dark; }
  .theme-dark p, .theme-dark li, .theme-dark span, .theme-dark small { color: rgba(255,255,255,.9); }
  .theme-dark h1, .theme-dark h2, .theme-dark h3, .theme-dark h4 { color: #fff; font-weight: 600; letter-spacing: -0.01em; }

  /* Headings */
  h1 { font-size: 1.875rem; line-height: 1.25; font-weight: 600; }
  @media (min-width: 768px){ h1 { font-size: 2.25rem; } }
  h2 { font-size: 1.5rem; line-height: 1.35; font-weight: 600; }
  @media (min-width: 768px){ h2 { font-size: 1.875rem; } }
  h3 { font-size: 1.25rem; font-weight: 600; }
  @media (min-width: 768px){ h3 { font-size: 1.5rem; } }
  h4 { font-size: 1.125rem; font-weight: 600; }
  h1, h2, h3, h4 { text-wrap: balance; }

  ::selection { background: rgba(var(--ring-r), var(--ring-g), var(--ring-b), .25); color:#fff; }

  a:focus-visible, button:focus-visible, input:focus-visible, textarea:focus-visible, select:focus-visible, [role="button"]:focus-visible {
    outline: 2px solid rgb(var(--ring-r) var(--ring-g) var(--ring-b));
    outline-offset: 2px; border-radius: .5rem;
  }

  a, button { -webkit-tap-highlight-color: rgba(var(--ring-r),var(--ring-g),var(--ring-b),.2); }

  /* Scrollbar sutil */
  *::-webkit-scrollbar { width:10px; height:10px; }
  *::-webkit-scrollbar-thumb { background: rgba(0,0,0,.15); border-radius:999px; }
  .theme-dark *::-webkit-scrollbar-thumb { background: rgba(255,255,255,.15); }
  *::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,.25); }
  .theme-dark *::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,.25); }

  @media (prefers-reduced-motion: reduce) {
    *{ animation-duration:.001ms!important; animation-iteration-count:1!important; transition-duration:.001ms!important; scroll-behavior:auto!important; }
  }

  /* Min-height de la vista sin el header sticky */
  main { min-height: calc(100svh - var(--header-h-mobile)); }
  @media (min-width: 768px) { main { min-height: calc(100svh - var(--header-h-desktop)); } }

  /* Anclas: que no las tape el header */
  [id], [data-anchor], section, h1, h2, h3, h4 { scroll-margin-top: var(--header-h-mobile); }
  @media (min-width: 768px) {
    [id], [data-anchor], section, h1, h2, h3, h4 { scroll-margin-top: var(--header-h-desktop); }
  }
}

/* =========================
   Componentes reutilizables
   ========================= */
@layer components {
  /* Container */
  .container-max { max-width: 72rem; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem; }
  @media (max-width: 480px) { .container-max { padding-left: 1rem; padding-right: 1rem; } }

  /* Header sólido */
  .site-header { background-color:#000 !important; backdrop-filter:none !important; }
  .site-header, .site-header * { color:#fff; }

  /* Enlaces con subrayado al hover */
  a { text-underline-offset: 2px; }
  a:hover { text-decoration: underline; }
  a.btn:hover, .btn:hover, .tile-light:hover, a.no-underline:hover { text-decoration: none; }

  /* Botones */
  .btn {
    display:inline-flex; align-items:center; justify-content:center; gap:.5rem;
    border-radius: 1rem; padding:.75rem 1.25rem; font-weight:600;
    transition: .2s; user-select:none; white-space:nowrap;
  }
  .btn:focus-visible { outline: none; box-shadow: 0 0 0 2px rgb(16 185 129); }
  .btn:disabled { opacity:.5; pointer-events:none; }

  .btn-primary { background:#059669; color:#fff; box-shadow: 0 1px 2px rgba(0,0,0,.1); }
  .btn-primary:hover { background:#047857; }
  .btn-primary:active { transform: scale(.98); }

  .btn-outline { border:1px solid #d4d4d8; color:#18181b; }
  .btn-outline:hover { background:#18181b; color:#fff; }

  .btn-ghost { color:#3f3f46; }
  .btn-block { width:100%; }
  @media (min-width:768px){ .btn-block { width:auto; } }

  .btn[aria-busy="true"] { position:relative; pointer-events:none; opacity:.7; }
  .btn[aria-busy="true"]::after {
    content:""; position:absolute; inset:0; border-radius:1rem;
    background-image: linear-gradient(90deg, transparent, rgba(0,0,0,.08), transparent);
    background-size:200% 100%; animation: btnShimmer 1.2s infinite;
  }
  @keyframes btnShimmer { 0%{background-position:200% 0} 100%{background-position:-200% 0} }

  /* Tarjetas / superficies */
  .card { border-radius: 1.5rem; box-shadow: 0 1px 2px rgba(0,0,0,.05); border:1px solid #e4e4e7; background:#fff; color:#18181b; }
  .surface { border-radius: 1.5rem; border:1px solid #e4e4e7; background:#fff; color:#18181b; }
  .surface h1, .surface h2, .surface h3, .surface h4 { color:#18181b; }
  .surface p, .surface li, .surface span, .surface small { color:#27272a; }
  .surface .label { color:#3f3f46; }
  .surface .help { color:#71717a; }
  .surface .input, .surface .select, .surface .textarea {
    background:#fff; color:#18181b; border:1px solid #d4d4d8;
  }
  .surface .input:focus, .surface .select:focus, .surface .textarea:focus {
    outline: none; box-shadow: 0 0 0 2px rgb(16 185 129); border-color:#10b981;
  }

  /* Tiles claras */
  .tile-light {
    border-radius: var(--radius); padding:1rem; border:1px solid #e4e4e7; background:#fff; color:#18181b;
    transition: .2s; text-decoration:none;
  }
  .tile-light:hover { transform: translateY(-2px); box-shadow: 0 4px 10px rgba(0,0,0,.06); }

  /* Inputs globales */
  .field { margin-bottom: 1rem; }
  .label { font-size:.875rem; font-weight:600; color:#3f3f46; }
  .input, .select, .textarea {
    width:100%; border-radius: .75rem; padding:.625rem .875rem; background:#fff; color:#18181b;
    border:1px solid #d4d4d8; box-shadow: 0 1px 2px rgba(0,0,0,.03); transition:.2s;
  }
  .input:focus-visible, .select:focus-visible, .textarea:focus-visible {
    outline:none; box-shadow:0 0 0 2px rgba(var(--ring-r),var(--ring-g),var(--ring-b),.35); border-color:#10b981;
  }
  .input[disabled], .select[disabled], .textarea[disabled] { opacity:.6; cursor:not-allowed; }

  .divider { height:1px; width:100%; background:#e4e4e7; }
  .badge { display:inline-flex; gap:.25rem; border-radius:9999px; padding:.25rem .75rem; font-size:.75rem; border:1px solid #e4e4e7; background:#fafafa; color:#3f3f46; }

  /* Nav + header */
  .nav-link { font-size:.875rem; color:#3f3f46; transition:.2s; }
  .nav-link.is-active { color:#18181b; font-weight:600; }
  .site-header .nav-link { color: rgba(255,255,255,.8); }
  .site-header .nav-link.is-active { color:#fff; font-weight:600; }
  .site-header .btn { text-decoration:none !important; }
}

/* =========================
   Utilidades
   ========================= */
@layer utilities {
  img, video, canvas, svg { max-width: 100%; height: auto; display: block; }
  .auto-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(min(100%, 18rem), 1fr)); gap:1rem; }
  .auto-grid-sm { display:grid; grid-template-columns: repeat(auto-fit, minmax(min(100%, 14rem), 1fr)); gap:.75rem; }
  .section-pad { padding-top: 2.5rem; padding-bottom: 2.5rem; }
  .glass { background: rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.1); backdrop-filter: blur(8px); }
  .rounded-app { border-radius: var(--radius); }
  .stack-sm { display:flex; flex-direction:column; gap:.75rem; }
  .hide-on-mobile { display:none; } @media (min-width:640px){ .hide-on-mobile{ display:block; } }
  .only-mobile { display:block; } @media (min-width:640px){ .only-mobile{ display:none; } }
  .nowrap { white-space: nowrap; }
  .break-anywhere { overflow-wrap:anywhere; word-break:break-word; }
  .media-cover { width: 100%; height: 100%; object-fit: cover; }
  .logo-invert { filter: brightness(0) invert(1); }
}

/* =========================
   Ajustes MOBILE (<= 640px)
   ========================= */
@media (max-width: 640px) {
  .site-header .container-max{
    padding-left:.75rem !important;
    padding-right:.75rem !important;
    min-height: var(--header-h-mobile);
    height:auto; display:flex; align-items:center; gap:.5rem;
  }
  .site-header a[aria-label="Inicio"]{ flex-shrink:0; }
  .site-header a[aria-label="Inicio"] img{ height:64px; max-height:64px; width:auto; }
  .site-header .btn{ padding:.5rem .75rem !important; border-radius:9999px; font-size:.9rem !important; line-height:1rem; }
}

/* =========================
   Variación “page-light”
   ========================= */
@layer base {
  body.page-light {
    background-color:#f8fafc; /* slate-50 */
    background-image: none;
    color:#18181b;
    color-scheme: light;
  }
  body.page-light main p,
  body.page-light main li,
  body.page-light main span,
  body.page-light main small { color:#18181b; }
  body.page-light main h1,
  body.page-light main h2,
  body.page-light main h3,
  body.page-light main h4 { color:#18181b; }
}

/* =========================
   Estados de formularios / a11y
   ========================= */
.input:focus-visible:invalid, .select:focus-visible:invalid, .textarea:focus-visible:invalid {
  border-color:#ef4444; box-shadow:0 0 0 2px rgba(239,68,68,.6);
}
.input:focus-visible:valid, .select:focus-visible:valid, .textarea:focus-visible:valid {
  border-color:#10b981; box-shadow:0 0 0 2px rgba(16,185,129,.6);
}
.input:focus-visible, .select:focus-visible, .textarea:focus-visible {
  outline:none;
}
.input:-webkit-autofill, .select:-webkit-autofill, .textarea:-webkit-autofill {
  -webkit-text-fill-color:#18181b; transition: background-color 5000s ease-in-out 0s;
}
.theme-dark .input:-webkit-autofill, .theme-dark .select:-webkit-autofill, .theme-dark .textarea:-webkit-autofill {
  -webkit-text-fill-color:#fff;
}
