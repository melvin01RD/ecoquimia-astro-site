---
import Base from "../layouts/Base.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { services } from "../data/services";
import ServiceCard from "../components/ServiceCard.astro";
import Hero from "../components/Hero.astro";

export const prerender = true;

const benefits = [
  {
    title: "Protocolos certificados",
    description: "Aplicamos productos avalados por Salud P√∫blica y fichas t√©cnicas actualizadas.",
    icon: "üß™",
  },
  {
    title: "Monitoreo continuo",
    description: "Seguimiento digital de cada visita para que sepas qu√©, cu√°ndo y d√≥nde intervenimos.",
    icon: "üìä",
  },
  {
    title: "Planes a medida",
    description: "Dise√±amos programas residenciales y comerciales alineados a tus auditor√≠as.",
    icon: "üõ°Ô∏è",
  },
];

const sectors = [
  {
    title: "Residencial",
    description: "Casas, torres y condominios protegidos con tratamientos amigables con mascotas.",
    icon: "üè†",
  },
  {
    title: "Comercial",
    description: "Restaurantes, hoteles y comercios con planes de respuesta 24/7.",
    icon: "üè¢",
  },
  {
    title: "Industrial",
    description: "Plantas, almacenes y laboratorios con bit√°coras para auditor√≠as externas.",
    icon: "üè≠",
  },
];

const process = [
  {
    title: "Diagn√≥stico completo",
    description: "Inspeccionamos cada √°rea clave, identificamos plagas y puntos cr√≠ticos de acceso.",
    number: "01",
  },
  {
    title: "Plan de acci√≥n",
    description: "Definimos tratamientos, frecuencia y productos ideales para tu operaci√≥n.",
    number: "02",
  },
  {
    title: "Seguimiento y reporte",
    description: "Monitoreamos resultados, ajustamos cuando es necesario y enviamos reportes claros.",
    number: "03",
  },
];

const faqs = [
  {
    question: "¬øCada cu√°nto debo programar fumigaciones?",
    answer:
      "Depende del riesgo de tu espacio. Para hogares recomendamos una visita trimestral; negocios con alto tr√°nsito o manipulaci√≥n de alimentos requieren monitoreo mensual.",
  },
  {
    question: "¬øLos productos son seguros para ni√±os y mascotas?",
    answer:
      "S√≠. Utilizamos insumos aprobados por Salud P√∫blica y aplicamos protocolos de reingreso para que puedas volver al √°rea con total tranquilidad.",
  },
  {
    question: "¬øPuedo solicitar informes para auditor√≠as?",
    answer:
      "Generamos bit√°coras digitales con fechas, productos y responsables de cada servicio. Son v√°lidas para auditor√≠as BPM, HACCP y normas internas.",
  },
  {
    question: "¬øAtienden emergencias fuera del horario regular?",
    answer:
      "Contamos con guardias 24/7 para incidentes cr√≠ticos. Escr√≠benos por WhatsApp y priorizaremos la asistencia seg√∫n la urgencia.",
  },
];
---

<Base
  title="Ecoquimia | Control de Plagas"
  description="Servicios profesionales de fumigaci√≥n y control de plagas en Rep√∫blica Dominicana."
>
  <!-- Header -->
  <Header slot="header" />

  <Hero
    eyebrow="Control integral de plagas"
    title="Fumigaci√≥n profesional"
    highlight="a otro nivel"
    description="Protegemos hogares y negocios contra cucarachas, roedores, termitas y m√°s, con procesos auditables y t√©cnicos certificados."
    backgroundImage="/brief/hero.png"
    backgroundAlt="T√©cnico de Ecoquimia aplicando tratamiento profesional de control de plagas"
    primaryCta={{ label: "Solicitar cotizaci√≥n", href: "/cotizacion", prefetch: "load" }}
    secondaryCta={{ label: "Ver servicios", href: "/services", variant: "outline", prefetch: true }}
    tertiaryCta={{
      label: "WhatsApp inmediato",
      href: "https://wa.me/18096172105?text=Hola%2C%20quiero%20una%20cotizaci%C3%B3n%20de%20control%20de%20plagas.",
      variant: "ghost",
      target: "_blank",
      rel: "noopener noreferrer",
    }}
    bullets={[
      "Atenci√≥n en menos de 24 horas",
      "Productos aprobados por Salud P√∫blica",
      "Reportes digitales despu√©s de cada visita",
      "Cobertura en Santo Domingo y zonas aleda√±as",
    ]}
    stats={[
      { value: "+1,500", label: "Intervenciones exitosas" },
      { value: "24/7", label: "Respuesta ante emergencias" },
      { value: "15 a√±os", label: "Experiencia en el sector" },
    ]}
  />

  <!-- NUESTROS SERVICIOS (grilla con cards) -->
  <section class="container-max py-16" aria-labelledby="srv-title">
    <div class="mx-auto max-w-2xl text-center">
      <h2 id="srv-title" class="text-3xl font-semibold text-zinc-900 md:text-4xl">Nuestros servicios</h2>
      <p class="mt-4 text-lg text-zinc-600">
        Planes residenciales, comerciales e industriales con garant√≠a escrita, fichas t√©cnicas y seguimiento post-servicio.
      </p>
    </div>

    <div class="mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {services.map((s) => <ServiceCard service={s} />)}
    </div>
  </section>

  <!-- Beneficios principales -->
  <section class="bg-emerald-50/60 py-16" aria-labelledby="beneficios-title">
    <div class="container-max grid gap-12 lg:grid-cols-[1fr,1.2fr] lg:items-center">
      <div>
        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-600">¬øPor qu√© Ecoquimia?</p>
        <h2 id="beneficios-title" class="mt-4 text-3xl font-semibold text-zinc-900 md:text-4xl">
          Expertos locales con procesos transparentes
        </h2>
        <p class="mt-4 text-lg text-zinc-700">
          Gestionamos el control de plagas de manera integral: diagn√≥stico, tratamiento, seguimiento y educaci√≥n.
          Nos involucramos para que tu familia o tu negocio est√©n protegidos todo el a√±o.
        </p>
      </div>

      <div class="grid gap-6 sm:grid-cols-2">
        {benefits.map((benefit) => (
          <article class="h-full rounded-3xl border border-emerald-200 bg-white/70 p-6 shadow-sm">
            <div class="text-3xl" aria-hidden="true">{benefit.icon}</div>
            <h3 class="mt-4 text-xl font-semibold text-zinc-900">{benefit.title}</h3>
            <p class="mt-2 text-sm text-zinc-700">{benefit.description}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- Sectores -->
  <section class="container-max py-16" aria-labelledby="sectores-title">
    <div class="grid gap-10 lg:grid-cols-[1.2fr,1fr] lg:items-center">
      <div>
        <h2 id="sectores-title" class="text-3xl font-semibold text-zinc-900 md:text-4xl">
          Cobertura en todos los sectores clave
        </h2>
        <p class="mt-4 text-lg text-zinc-700">
          Personal capacitado y protocolos diferenciados para cada industria. Desde hogares hasta cadenas
          multinacionales.
        </p>
        <ul class="mt-6 space-y-3 text-sm text-zinc-600">
          <li class="flex items-start gap-2">
            <span class="mt-1 h-2 w-2 rounded-full bg-emerald-500"></span>
            Programas acorde a normativas BPM, HACCP y auditor√≠as internacionales.
          </li>
          <li class="flex items-start gap-2">
            <span class="mt-1 h-2 w-2 rounded-full bg-emerald-500"></span>
            T√©cnicos con capacitaci√≥n constante y equipos de aspersi√≥n, nebulizaci√≥n y geles de √∫ltima generaci√≥n.
          </li>
        </ul>
      </div>

      <div class="grid gap-6 sm:grid-cols-3">
        {sectors.map((sector) => (
          <article class="rounded-3xl border border-zinc-200 bg-white/90 p-5 text-center shadow-sm">
            <div class="text-3xl" aria-hidden="true">{sector.icon}</div>
            <h3 class="mt-3 text-lg font-semibold text-zinc-900">{sector.title}</h3>
            <p class="mt-2 text-sm text-zinc-600">{sector.description}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- Proceso -->
  <section class="bg-zinc-950 py-16 text-white" aria-labelledby="proceso-title">
    <div class="container-max">
      <div class="max-w-2xl">
        <h2 id="proceso-title" class="text-3xl font-semibold md:text-4xl">Tu plan de control en 3 pasos</h2>
        <p class="mt-4 text-base text-white/80">
          Nos enfocamos en la prevenci√≥n y la comunicaci√≥n constante para que siempre tengas claro el estado del servicio.
        </p>
      </div>

      <div class="mt-12 grid gap-6 md:grid-cols-3">
        {process.map((step) => (
          <article class="flex h-full flex-col rounded-3xl border border-white/10 bg-white/5 p-6 backdrop-blur">
            <span class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Paso {step.number}</span>
            <h3 class="mt-4 text-xl font-semibold text-white">{step.title}</h3>
            <p class="mt-3 text-sm text-white/80">{step.description}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="bg-white py-16" aria-labelledby="faq-title">
    <div class="container-max">
      <div class="mx-auto max-w-3xl text-center">
        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-600">Preguntas frecuentes</p>
        <h2 id="faq-title" class="mt-4 text-3xl font-semibold text-zinc-900 md:text-4xl">Resolvemos tus dudas m√°s comunes</h2>
        <p class="mt-4 text-base text-zinc-600">
          Si necesitas m√°s detalles, nuestro equipo est√° disponible para orientarte por correo, tel√©fono o WhatsApp.
        </p>
      </div>

      <div class="mx-auto mt-10 max-w-3xl space-y-4">
        {faqs.map((faq) => (
          <details class="group rounded-3xl border border-emerald-100 bg-white p-6 text-left shadow-sm transition hover:border-emerald-200">
            <summary class="flex cursor-pointer items-center justify-between gap-4 text-lg font-semibold text-zinc-900 marker:hidden">
              <span>{faq.question}</span>
              <span
                class="flex h-9 w-9 flex-none items-center justify-center rounded-full border border-emerald-200 text-emerald-600 transition group-open:rotate-45"
                aria-hidden="true"
              >
                +
              </span>
            </summary>
            <p class="mt-4 text-sm leading-relaxed text-zinc-700">{faq.answer}</p>
          </details>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA INTERMEDIA / APRENDE -->
  <section class="pb-20">
    <div class="container-max">
      <div class="rounded-3xl border border-emerald-100 bg-emerald-50/80 p-8 md:p-12">
        <div class="flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between">
          <div class="max-w-2xl">
            <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-600">Recursos y soporte</p>
            <h3 class="mt-3 text-3xl font-semibold text-zinc-900">Aprende, prev√©n y act√∫a con respaldo profesional</h3>
            <p class="mt-4 text-base text-zinc-700">
              Descubre gu√≠as descargables, lineamientos legales y canales de contacto directo con nuestro equipo t√©cnico.
            </p>
          </div>
          <div class="flex flex-col gap-3 sm:flex-row sm:flex-wrap">
            <a href="/aprende-de-las-plagas" class="btn btn-secondary btn-block" data-astro-prefetch>
              Gu√≠as y consejos
            </a>
            <a href="/politicas" class="btn btn-outline btn-block" data-astro-prefetch>
              Pol√≠ticas
            </a>
            <a href="/contact" class="btn btn-ghost btn-block" data-astro-prefetch>
              Contacto
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <Footer slot="footer" />
</Base>
